# QM D-Bus Socket - User session message bus for containerized D-Bus broker
# Creates socket for dbus-broker container to provide session bus functionality

[Unit]
Description=QM D-Bus User Message Bus Socket
After=dbus.socket
ConditionPathIsMountPoint=/run/user/0

[Socket]
ListenStream=/run/user/0/bus
SocketMode=0775
DirectoryMode=0700
SocketUser=root
SocketGroup=root
RemoveOnStop=yes

[Install]
WantedBy=sockets.target
